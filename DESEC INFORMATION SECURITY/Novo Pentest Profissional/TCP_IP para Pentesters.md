→Protocolos de Rede são compostos por um cabeçalho e uma área de dados

_Header_ - Cada header via ter uma estrututra específica de acordo com o seu protocolo

_Payload - Contém as informações que o protocolo carrega (dados, etc.)_

---

# Modelos de Referência

Modelos criados para serem utilizados como referência para os desenvolvedores afim de criar produtos compatíveis entre si. Os dois modelos mais conhecidos são:

**Modelo OSI** = Modelo conceitual composto de 7 camadas ( Aplicação, Apresentação, Sessão, Transporte, Rede, Enlace, Física)

**Modelo TCP/IP** = Modelo conceitual composo por 4 camadas (simplificação do modelo OSI), (Aplicação, Transporte, Internet, Acesso a Rede)

---

### Encapsulamento

O Encapsulamento se baseia em inserir, protocolo dentro de protocolo, fazendo uma “cápsula” de protocolos interligados

---

# Protocolos de Rede

### → Protocolo Ethernet

- Header: →Mac de Destino → Mac de Origem → Tipo (Código identifica o tipo do protocolo, 0800 = IP/0806 = ARP)
- Payload (dados a serem transportardos (outro protocolo), o tam. máx é de 1500bytes)
- **Tamanho do cabeçalho:** 14 bytes
- **Campos principais:**
    - Endereço MAC de destino: 6 bytes
    - Endereço MAC de origem: 6 bytes
    - Tipo (EtherType): 2 bytes

### → Protocolo ARP

Descobre qual endereço MAC está associado a X endereço IP (ARP Request/ARP Reply)

- ARP Request: pergunta ao determinado IP o seu endereço MAC
- ARP Reply: resposta enviada pelo dono do IP com o endereço MAC

Após o Request/Reply a máquina que realizou a chamada guarda o IP e o MAC por um tempo.

**Estrutura do Protocolo ARP**

→ A estrutura do ARP tem 4 bytes de largura(MAC = 6 bytes/IP = 4 bytes)

![image.png](attachment:4e40905d-153c-4e14-928e-7ae16426c579:image.png)

- **Tamanho do cabeçalho:** 28 bytes
- **Campos principais:**
    - Tipo de hardware: 2 bytes
    - Tipo de protocolo: 2 bytes
    - Endereço MAC de origem: 6 bytes
    - Endereço IP de origem: 4 bytes
    - Endereço MAC de destino: 6 bytes
    - Endereço IP de destino: 4 bytes

## → Protocolo IP

Protocolo IP apenas entrega os pacotes, não oferece nenhuma segurança, para isso podemos combiná-lo com o protocoloTCP ou caso queira velocidade ao protocolo UDP

**Estrutura do Protocolo IP**

![image.png](attachment:0f7af479-e466-4f6b-bf94-aed353b1d910:image.png)

- **Tamanho do cabeçalho:** 20 bytes (mínimo)
- **Campos principais:**
    - Versão: 0.5 bytes
    - Comprimento do cabeçalho: 0.5 bytes
    - Tipo de serviço (ToS): 1 byte
    - Comprimento total: 2 bytes
    - Identificação: 2 bytes
    - Flags: 0.5 bytes
    - Offset de fragmento: 1.5 bytes
    - TTL (Time to Live): 1 byte
    - Protocolo: 1 byte
    - Checksum: 2 bytes
    - Endereço de origem: 4 bytes
    - Endereço de destino: 4 bytes

## →Protocolo TCP

Protocolo confiável para a entrega dos pacotes garantindo o recebimento dos dados por via do 3WHS (Three-Way-Handshake)

→ Flags TCP:

- SYN → Iniciar uma conexão entre os lados envolvidos
    
- FIN → Indica finalizar a conexão
    
- RST → Indica fazer o reset, quando a comunicção da um erro ou não é entendida
    
- PSH → Indica que existem dados no payload TCP
    
- ACK → Faz a confirmação, indicando que sabe qual o número de sequência
    
- URG → Indica urgência, então recebe priorização
    
- **Tamanho do cabeçalho:** 20 bytes (mínimo)
    
- **Campos principais:**
    
    - Porta de origem: 2 bytes
    - Porta de destino: 2 bytes
    - Número de sequência: 4 bytes
    - Número de confirmação: 4 bytes
    - Offset de dados: 1 byte
    - Flags (controle): 1 byte
    - Janela de recepção: 2 bytes
    - Checksum: 2 bytes
    - Ponteiro de urgência: 2 bytes
    
    ### FLAGS
    
    |**Flags Ativas**|**Binário**|**Hexadecimal**|
    |---|---|---|
    |Nenhuma flag|000000|0x00|
    |SYN|000010|0x02|
    |SYN + ACK|010010|0x12|
    |ACK|010000|0x10|
    |FIN|000001|0x01|
    |FIN + ACK|010001|0x11|
    |PSH + ACK|010100|0x18|
    |URG + ACK|010001|0x11|
    |RST|000100|0x04|
    |Todas as flags|111111|0x3F|
    

## → Protocolo UDP

Protocolo UDP é um protocolo de transporte de dados, no entanto, ele não é confiável pois não garante a entrega dos dados, pois foca na velocidade da entrega. Ele é usado para serviços como streaming de vídeos, áudio e comunicações onde o foco é velocidade

- Estrutura do protocolo UDP

![image.png](attachment:a3ae1072-2d8a-44a8-a4e4-06603d738dd0:image.png)

- **Tamanho do cabeçalho:** 8 bytes (fixo)
- **Campos principais:**
    - Porta de origem: 2 bytes
    - Porta de destino: 2 bytes
    - Comprimento: 2 bytes
    - Checksum: 2 bytes

## → Protocolo HTTP

O protocolo HTTP funciona através de trocas de requisições entre cliente e servidor (HTTP Request/ HTTP Response)

→ O protocolo suporta diversos métodos, GET, POST, HEAD, PUT,DELETE, OPTIONS

→ Os mais utilizados são o método GET para requisições e o POST para enviar dados como por exemplo formulários de páginas

- Estrutura do HTTP
    - O HTTP é composto por um Header e um Body

![image.png](attachment:4b436092-189c-4312-83ab-3a222e638707:image.png)

### Código de Status

Toda requisição recebe um código de resposta conhecido como status

- 200 OK → Requisição bem sucedida
- 301 Moved Permanently → O recurso foi movido
- 403 Forbidden → Proibido o acesso por falta de permissão
- 404 Not Found → O recurso solicitado não foi solicitado
- 500 Internal Sever Error → Ocorreu erro ao lado do servidor

## → Protocolo ICMP

Protocolo de alerta por mensagens, ele emite avisos sobre a situação da rede

### Tipos e Códigos ICMP

- 0 → ping echo reply → Resposta do ping
- 8 → ping echo request → Envio do ping
- 11 → TTL exceeded → O TTL foi excedido

---

# DNS (Domain Name System)

O DNS faz a tradução do nome para endereço IP, por exemplo:

→ O usuário digitou: [facebook.com](http://facebook.com) no seu navegador

- O host vai perguntar ao servidor DNS qual o ip de [facebook.com](http://facebook.com)
- Caso o servidor saiba vai redireionálo para o site com o IP cadastrado para [facebook.com](http://facebook.com)
- E caso o servidor não tenha em si a resolução do nome, ele faz a pesquisa com outro servidor até achar a resolução

HOST → [facebook.com](http://facebook.com) → SERVIDOR DNS(8.8.8.8) → 157.240.222.35 → HOST