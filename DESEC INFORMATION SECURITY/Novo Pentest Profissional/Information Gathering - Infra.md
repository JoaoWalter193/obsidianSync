*Continuação das aulas sobre Information Gathering. Esta nota ira se referir ao ganho de informações da infraestrutura de uma rede*

---

## IANA
***[Internet Assigned Numbers Autority](https://iana.org)***

---
IANA é responsável por coordenar alguns dos elementos chaves para o funcionamento da internet
- Gerenciamento dos root servers (Domain Names)
- Coordenação de números IP e ASN (Autonomous System Numbers)
- Registros de Protocolos

#### RIRs (Regional Internet Registries)
 São registros que determinam e fazem a distribuição dos blocos de IP's e ASN's da internet para cada localidade no globo. 
 *LACNIC é o registro que cuida da américa latina e ilhas do Caribe*

#### Netblock x ASN

-> **Netblock** : Um range ou conjunto de IP's
-> **ASN (Autonomous System)** : Um ou mais blocos de IP's de rede sob o mesmo administrador

Exemplos: 
Se a empresa precisa de um range com 12 IP's ela pode comprar um netblock
Se a empresa precisa de centenas de endereços IP's ela pode comprar um ASN

## WHOIS
WHOIS é um protocolo que roda na porta 43 que pode nos dar informações sobre o dono do ip

A própia iana apresenta um WHOIS, [IANA-WHOIS](https://iana.org/whois), onde nela você poderá ir se redirecionando de refer's em refer's onde conseguirá informações de como quem vendeu, qual o range que comprou, CPF/CNPJ do comprador, etc.

A pesquisa também pode ser feita via linha de comando da seguinte maneira:
``` whois (dominio/ip que deseja saber) ```


## RDAP
***Registration Data Acess Protocol***
[rdap client](https://client.rdap.org) : Site para consulta usando o RDAP

---

É um protocolo criado para resolver alguns dos problemas dentro do whois, como a padronização, onde cada servidor implementa de uma maneira. Já no RDAP a resposta é padronizada sendo enviada no padrão JSON, facilitando o trabalho e o tratameto da resposta.



## Pesquisa por IP

Descobrir se o cliente tem um ASN ou netblock, porém em alguns dos casos o cliente usa uma espécie de servidor hosteado ou VPN. Veremos como passar por cima disso

Exemplo:
``` bash
host vivo.com.br
# nos devolve o ip da vivo (cliente hipotético)

whois (ip da vivo) | egrep "inetnum|aut-num"
#fará a busca do ip da vivo usando o whois e irá filtrar nos dando o seu range de ip's e caso possua, o seu ASN
```
*Tomar cuidado para clientes que possuem algum serviço contratado que pode fa
zer você se confundir com o range dos ip's*

## Pesquisa por BGP
***Border Gateway Protocol***

Sites que trazem informações sobre as interligações dos ASN/noteblocks pesquisados 
[bgp view](https://bgpview.io)
[bgp net](https://bgp.he.net) 


## Pesquisa no Shodan
[Shodan](https://www.shodan.io)

O shodan é uma search engine para aparelhos conectados com a internet, podendo oferecer informações valiosas ou máquinas vulneráveis

--Operadores--
- hostname: -> busca no site especificado   
- os: -> busca por sistema operacional
- port: -> busca por porta
- ip: -> busca por ip
- net: -> busca por rede
- country: -> busca por país
- city: -> busca por cidade
- geo: -> busca por geolocalização
- org: -> busca por uma organização
- "  " -> busca por algum termo

## Pesquisa no Censys
[Censys](https://censys.io)

Site parecido com o shodan, diferenciando na possibilidade de filtros de pesquisas
